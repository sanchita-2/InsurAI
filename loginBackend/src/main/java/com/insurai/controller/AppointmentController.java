package com.insurai.controller; import com.insurai.dto.AppointmentDto; import com.insurai.service.AppointmentService; import org.springframework.http.ResponseEntity; import org.springframework.web.bind.annotation.*; import java.util.List; @RestController @RequestMapping("/api/appointments") @CrossOrigin(origins = "*") public class AppointmentController { private final AppointmentService appointmentService; public AppointmentController(AppointmentService appointmentService){ this.appointmentService=appointmentService; } @PostMapping public ResponseEntity<AppointmentDto> create(@RequestBody AppointmentDto dto){ return ResponseEntity.ok(appointmentService.createAppointment(dto)); } @GetMapping("/user/{userId}") public ResponseEntity<List<AppointmentDto>> byUser(@PathVariable Long userId){ return ResponseEntity.ok(appointmentService.getAppointmentsByUser(userId)); } @GetMapping("/agent/{agentId}") public ResponseEntity<List<AppointmentDto>> byAgent(@PathVariable Long agentId){ return ResponseEntity.ok(appointmentService.getAppointmentsByAgent(agentId)); } @PutMapping("/{appointmentId}/status") public ResponseEntity<?> updateStatus(@PathVariable Long appointmentId, @RequestParam String status){ return ResponseEntity.ok(appointmentService.updateStatus(appointmentId, status)); } }
